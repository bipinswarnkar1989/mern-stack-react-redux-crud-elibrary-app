{"version":3,"sources":["../../server/controllers/favourite.server.controller.js"],"names":["addFavourite","req","res","console","log","body","newFavourite","book","id","save","err","favourite","json","findOne","_id","populate","exec","f","getFavourites","next","find","favourites","deleteFavourite","findByIdAndRemove","params"],"mappings":";;;;;;;AAAA;;;;AAEA;;;;;;AACO,MAAMA,sCAAe,CAACC,GAAD,EAAKC,GAAL,KAAa;AACjCC,UAAQC,GAAR,CAAYH,IAAII,IAAhB;AACA;AACA,QAAMC,eAAe,+BAArB;AACAA,eAAaC,IAAb,GAAoBN,IAAII,IAAJ,CAASG,EAA7B;AACAF,eAAaG,IAAb,CAAkB,CAACC,GAAD,EAAKC,SAAL,KAAmB;AACnC,QAAGD,GAAH,EAAO;AACP,aAAOR,IAAIU,IAAJ,CAAS,EAAC,WAAU,KAAX,EAAiB,WAAU,YAA3B,EAAT,CAAP;AACC;;AAED,8BAAUC,OAAV,CAAkB,EAAC,OAAMF,UAAUG,GAAjB,EAAlB,EAAyCC,QAAzC,CAAkD,MAAlD,EAA0DC,IAA1D,CAA+D,CAACN,GAAD,EAAKO,CAAL,KAAW;AACxE,UAAGP,GAAH,EAAO;AACP,eAAOR,IAAIU,IAAJ,CAAS,EAAC,WAAU,KAAX,EAAiB,WAAU,YAA3B,EAAT,CAAP;AACC;;AAED,aAAOV,IAAIU,IAAJ,CAAS,EAAC,WAAU,IAAX,EAAgB,WAAU,gCAA1B,EAA2DK,CAA3D,EAAT,CAAP;AACD,KAND;AAOD,GAZD;AAcP,CAnBM;AAFP;AAuBQ,MAAMC,wCAAgB,CAACjB,GAAD,EAAKC,GAAL,EAASiB,IAAT,KAAkB;AACvC,4BAAUC,IAAV,GAAiBL,QAAjB,CAA0B,MAA1B,EAAkCC,IAAlC,CAAuC,CAACN,GAAD,EAAKW,UAAL,KAAoB;AACzD,QAAGX,GAAH,EAAO;AACP,aAAOR,IAAIU,IAAJ,CAAS,EAAC,WAAU,KAAX,EAAiB,WAAU,YAA3B,EAAT,CAAP;AACC;;AAED,WAAOV,IAAIU,IAAJ,CAAS,EAAC,WAAU,IAAX,EAAgB,WAAU,iCAA1B,EAA4DS,UAA5D,EAAT,CAAP;AACD,GAND;AAOR,CARO;;AAUD,MAAMC,4CAAkB,CAACrB,GAAD,EAAKC,GAAL,KAAa;AAC1C,4BAAUqB,iBAAV,CAA4BtB,IAAIuB,MAAJ,CAAWhB,EAAvC,EAA0C,CAACE,GAAD,EAAKH,IAAL,KAAc;AACtD,QAAGG,GAAH,EAAO;AACP,aAAOR,IAAIU,IAAJ,CAAS,EAAC,WAAU,KAAX,EAAiB,WAAU,YAA3B,EAAwC,SAAQF,GAAhD,EAAT,CAAP;AACC;;AAED,WAAOR,IAAIU,IAAJ,CAAS,EAAC,WAAU,IAAX,EAAgB,WAAU,gCAA1B,EAAT,CAAP;AAGD,GARD;AASD,CAVM","file":"favourite.server.controller.js","sourcesContent":["import mongoose from 'mongoose';\n//import models\nimport  Favourite from '../models/favourite.server.model';\nexport const addFavourite = (req,res) => {\n        console.log(req.body);\n        //Create a new instance of Book model\n        const newFavourite = new Favourite();\n        newFavourite.book = req.body.id;\n        newFavourite.save((err,favourite) => {\n          if(err){\n          return res.json({'success':false,'message':'Some Error'});\n          }\n\n          Favourite.findOne({'_id':favourite._id}).populate('book').exec((err,f) => {\n            if(err){\n            return res.json({'success':false,'message':'Some Error'});\n            }\n\n            return res.json({'success':true,'message':'Favourite fetched successfully',f});\n          });\n        })\n\n}\n\n export const getFavourites = (req,res,next) => {\n         Favourite.find().populate('book').exec((err,favourites) => {\n           if(err){\n           return res.json({'success':false,'message':'Some Error'});\n           }\n\n           return res.json({'success':true,'message':'Favourites fetched successfully',favourites});\n         })\n}\n\nexport const deleteFavourite = (req,res) => {\n  Favourite.findByIdAndRemove(req.params.id,(err,book) => {\n    if(err){\n    return res.json({'success':false,'message':'Some Error','error':err});\n    }\n  \n    return res.json({'success':true,'message':'Favourite Deleted Successfully'});\n\n\n  })\n}\n"]}